Note: this exception inexplicably happened after a cold federation copy from DEV to PROD on Texas Health Invision. Similar exception happened in PROD but not DEV.
Then, an index rebuild in both environments caused the exception to happen for select patients.

Weird aspect about the exception is it seems to be fulltext / wildcard related.  To find the patient "Murphy ,Deletria" searching
for "Mur"/"Del" worked and found the desired records among many, but searching for the more specific "Mur"/"Deletria" caused this type of exception.

Rebuild the indexes by changing the Compress flag from yes to no and by changing starts-with fulltext from yes to no, cleared up the issue.


Caused by: java.lang.ArrayIndexOutOfBoundsException: 65
	at org.apache.lucene.codecs.lucene41.ForUtil.readBlock(ForUtil.java:196)
	at org.apache.lucene.codecs.lucene41.Lucene41PostingsReader$EverythingEnum.refillPositions(Lucene41PostingsReader.java:1284)
	at org.apache.lucene.codecs.lucene41.Lucene41PostingsReader$EverythingEnum.skipPositions(Lucene41PostingsReader.java:1505)
	at org.apache.lucene.codecs.lucene41.Lucene41PostingsReader$EverythingEnum.nextPosition(Lucene41PostingsReader.java:1548)
	at org.apache.lucene.search.spans.TermSpans.skipTo(TermSpans.java:82)
	at org.apache.lucene.search.spans.SpanScorer.advance(SpanScorer.java:63)
	at org.apache.lucene.search.ConjunctionScorer.doNext(ConjunctionScorer.java:69)
	at org.apache.lucene.search.ConjunctionScorer.nextDoc(ConjunctionScorer.java:100)
	at org.apache.lucene.search.Scorer.score(Scorer.java:64)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:627)
	at com.xhive.lucene.executor.f.a(xdb:143)
	at com.xhive.lucene.executor.f.search(xdb:130)
	at com.xhive.lucene.subpath.e.a(xdb:313)
	at com.xhive.lucene.subpath.e.a(xdb:264)
	at com.xhive.lucene.subpath.e.a(xdb:183)
	at com.xhive.lucene.executor.v.executeExternally(xdb:253)
	at com.xhive.kernel.az.externalIndexExecute(xdb:2785)
	at com.xhive.kernel.bo.handleRequest(xdb:1946)
	at com.xhive.kernel.bo.run(xdb:222)
	at java.lang.Thread.run(Thread.java:745)
	at com.xhive.kernel.RemoteSession.statusDontGetStacktrace(xdb:382)
	at com.xhive.kernel.RemoteSession.status(xdb:360)
	at com.xhive.kernel.RemoteSession.access$6(xdb:352)
	at com.xhive.kernel.RemoteSession$d.b(xdb:9630)
	at com.xhive.kernel.s.c(xdb:450)
	at com.xhive.kernel.s.a(xdb:444)
	at com.xhive.kernel.s.a(xdb:420)
	at com.xhive.kernel.RemoteSession.withConnection(xdb:9605)
	at com.xhive.kernel.RemoteSession.perform(xdb:9581)
	at com.xhive.kernel.RemoteSession.requestExecuteExternalIndexQuery(xdb:5479)
	at com.xhive.kernel.RemoteSession.access$77(xdb:5473)
	at com.xhive.kernel.RemoteSession$121.Hh(xdb:5426)
	at com.xhive.kernel.RemoteSession$121.GW(xdb:1)
	at com.xhive.kernel.RemoteSession$e.call(xdb:6723)
	at com.xhive.kernel.RemoteSession.doRequest(xdb:6767)
	at com.xhive.kernel.RemoteSession.doRequest(xdb:6760)
	at com.xhive.kernel.RemoteSession.externalIndexExecute(xdb:5422)
	at com.xhive.core.index.ExternalIndex.executeExternally(xdb:485)
	at com.xhive.core.index.XhiveMultiPathIndex.a(xdb:306)
	at com.xhive.xquery.pathexpr.v$a.cg(xdb:124)
	at com.xhive.xquery.pathexpr.ad$a.cn(xdb:104)
	at com.xhive.xquery.pathexpr.ax.axj(xdb:39)
	at com.xhive.xquery.pathexpr.ax.<init>(xdb:32)
	at com.xhive.xquery.pathexpr.av.a(xdb:424)
	at com.xhive.xquery.pathexpr.av.a(xdb:276)
	at com.xhive.xquery.pathexpr.av.a(xdb:220)
	at com.xhive.xDB_10_5_14.hx$a.<init>(xdb:121)
	at com.xhive.xDB_10_5_14.hx$a.<init>(xdb:83)
	at com.xhive.xDB_10_5_14.hx.a(xdb:56)
	at com.xhive.xDB_10_5_14.ic$a.<init>(xdb:199)
	at com.xhive.xDB_10_5_14.ic.a(xdb:132)
	at com.xhive.xquery.bk.a(xdb:131)
	at com.xhive.xquery.bp.a(xdb:196)
	at com.xhive.xquery.bp.execute(xdb:159)
	at com.xhive.xquery.bp.execute(xdb:154)
	at com.xhive.xDB_10_5_14.mo$a.<init>(xdb:124)
	at com.xhive.xDB_10_5_14.mo.a(xdb:29)
	at com.xhive.xquery.functions.i.a(xdb:127)
	at com.xhive.xquery.context.j.start(xdb:96)
	at com.xhive.xquery.context.j.Wt(xdb:137)
	at com.xhive.xquery.context.k$a.Wt(xdb:60)
	at com.xhive.xquery.pathexpr.av.a(xdb:179)
	at com.xhive.xquery.pathexpr.PredicateExpr.a(xdb:76)
	at com.xhive.xquery.pathexpr.av.c(xdb:314)
	at com.xhive.xquery.pathexpr.av.a(xdb:149)
	at com.xhive.xquery.aw.a(xdb:70)
	at com.xhive.xquery.y.a(xdb:37)
	at com.xhive.xDB_10_5_14.ia.a(xdb:39)
	at com.xhive.xDB_10_5_14.ia.a(xdb:39)
	at com.xhive.xDB_10_5_14.ia.a(xdb:39)
	at com.xhive.xquery.functions.i$a.a(xdb:201)
	at com.xhive.xquery.functions.i$a.<init>(xdb:195)
	at com.xhive.xquery.functions.i.a(xdb:144)
	at com.xhive.xquery.functions.i.a(xdb:130)
	at com.xhive.xquery.az.a(xdb:23)
	at com.xhive.xquery.context.j.start(xdb:96)
	at com.xhive.xquery.context.j.Wt(xdb:137)
	at com.xhive.xquery.context.k$a.Wt(xdb:60)
	at com.xhive.xquery.pathexpr.av.a(xdb:179)
	at com.xhive.xquery.f.a(xdb:615)
	at com.xhive.xquery.context.j.start(xdb:96)
	at com.xhive.xquery.context.j.VR(xdb:151)
	at com.xhive.xquery.context.k$a.VR(xdb:87)
	at com.xhive.xquery.bl$b.VR(xdb:666)
	at com.xhive.xquery.context.j.start(xdb:100)
	at com.xhive.xquery.context.j.fd(xdb:110)
	at com.xhive.xquery.context.k$a.VS(xdb:52)
	at com.xhive.xquery.bl$a.VS(xdb:486)
	at com.xhive.xquery.bl$b.VS(xdb:560)
	at com.xhive.xquery.aw.a(xdb:42)
	at com.xhive.xquery.context.j.start(xdb:96)
	at com.xhive.xquery.context.j.fd(xdb:110)
	at com.xhive.xquery.context.k$a.VS(xdb:52)
	at com.xhive.xquery.ao$a.VS(xdb:106)
	at com.xhive.xquery.bl$b.VS(xdb:560)
	at com.xhive.xquery.functions.string.r$1.Wl(xdb:49)
	at com.xhive.xquery.ar.VS(xdb:33)
	at com.xhive.xquery.context.j.fd(xdb:121)
	at com.xhive.xquery.context.k$a.VS(xdb:52)
	at com.xhive.xquery.bl$a.VS(xdb:486)
	at com.xhive.xquery.bl$b.VS(xdb:560)
	at com.xhive.xquery.bl.Wl(xdb:97)
	at com.xhive.xquery.functions.p.a(xdb:32)
	at com.xhive.xquery.functions.s.a(xdb:48)
	at com.xhive.xquery.functions.i.a(xdb:127)
	at com.xhive.xDB_10_5_14.hb$b.Wl(xdb:99)
	at com.xhive.xquery.ar.VS(xdb:33)
	at com.xhive.xquery.context.j.fd(xdb:121)
	at com.xhive.xquery.context.k$a.VS(xdb:52)
	at com.xhive.xquery.ao$a.VS(xdb:106)
	at com.xhive.xquery.functions.i$a.VS(xdb:208)
	at com.xhive.xquery.bl$b.VS(xdb:560)
	at com.xhive.xquery.ao$a.VS(xdb:106)
	at com.xhive.xquery.ap.WQ(xdb:224)
	at com.xhive.xquery.ap.cH(xdb:139)
	at com.xhive.xDB_10_5_14.hb$a.Yh(xdb:204)
	at com.xhive.xDB_10_5_14.hb$b.Wl(xdb:103)
	at com.xhive.xquery.ar.VS(xdb:33)
	at com.xhive.xquery.ao$a.VS(xdb:106)
	at com.xhive.xquery.ap.WQ(xdb:224)
	at com.xhive.xquery.ap.cH(xdb:139)
	at com.xhive.xDB_10_5_14.hb$a.Yh(xdb:204)
	at com.xhive.xDB_10_5_14.hb$b.Wl(xdb:103)
	at com.xhive.xquery.ar.VS(xdb:33)
	at com.xhive.xquery.functions.i$a.VS(xdb:208)
	at com.xhive.xquery.bl$b.VS(xdb:560)
	at com.xhive.xquery.bq$b.VS(xdb:105)
	at com.xhive.xquery.bq$b.hasNext(xdb:116)
	at com.emc.documentum.xml.dds.xproc.internal.DDSXQuery$XDBQueryIntern.hasNext(DDSXQuery.java:142)
	at com.emc.documentum.xml.xproc.pipeline.model.step.standard.impl.XQueryStepImpl.run(XQueryStepImpl.java:107)
	at com.emc.documentum.xml.xproc.pipeline.model.step.impl.AbstractStepImpl.runStep(AbstractStepImpl.java:434)
	at com.emc.documentum.xml.xproc.pipeline.model.step.impl.AbstractStepImpl.run(AbstractStepImpl.java:373)
	... 38 more